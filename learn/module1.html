<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 1 : Algorithmes de Régression - Club ESATIC</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #ff6b35;
            --secondary: #1c6487;
            --accent: #667eea;
            --success: #28a745;
            --danger: #dc3545;
            --warning: #ffc107;
            --dark: #2c3e50;
            --gray: #6c757d;
            --light: #f8f9fa;
            --white: #ffffff;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            padding-top: 70px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }

        /* Navbar */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
            padding: 1rem 2rem;
            z-index: 1000;
            animation: slideDown 0.5s ease;
        }

        @keyframes slideDown {
            from { transform: translateY(-100%); }
            to { transform: translateY(0); }
        }

        .navbar-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .logo img {
            height: 50px;
            width: 50px;
            border-radius: 8px;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .logo img:hover {
            transform: scale(1.1);
        }

        .logo-text {
            font-size: 1.1rem;
            font-weight: bold;
            color: var(--dark);
        }

        .nav-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .progress-ring {
            width: 50px;
            height: 50px;
            position: relative;
        }

        .progress-ring svg {
            transform: rotate(-90deg);
        }

        .progress-ring-circle {
            transition: stroke-dashoffset 0.5s;
            stroke: var(--primary);
            stroke-width: 4;
        }

        .progress-ring-bg {
            stroke: #e0e0e0;
            stroke-width: 4;
        }

        .progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 0.7rem;
            font-weight: bold;
            color: var(--primary);
        }

        .btn-outline {
            padding: 0.6rem 1.2rem;
            border: 2px solid var(--primary);
            background: transparent;
            color: var(--primary);
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-outline:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
        }

        /* Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 2rem;
        }

        /* Sidebar */
        .sidebar {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: 0 8px 30px rgba(0,0,0,0.12);
            height: fit-content;
            position: sticky;
            top: 90px;
            animation: slideInLeft 0.6s ease;
        }

        @keyframes slideInLeft {
            from { opacity: 0; transform: translateX(-50px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .sidebar-header {
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--light);
        }

        .sidebar-header h3 {
            color: var(--dark);
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }

        .module-badge {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .chapters-list {
            list-style: none;
        }

        .chapter-item {
            padding: 0.8rem;
            margin-bottom: 0.5rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .chapter-item:hover {
            background: var(--light);
            transform: translateX(5px);
        }

        .chapter-item.active {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.15), rgba(118, 75, 162, 0.15));
            border-left: 4px solid var(--primary);
        }

        .chapter-item.completed {
            opacity: 0.7;
        }

        .chapter-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--light);
            color: var(--primary);
            font-size: 0.9rem;
            flex-shrink: 0;
        }

        .chapter-item.completed .chapter-icon {
            background: var(--success);
            color: white;
        }

        .chapter-item.active .chapter-icon {
            background: var(--primary);
            color: white;
        }

        .chapter-info {
            flex: 1;
        }

        .chapter-title {
            font-weight: 600;
            color: var(--dark);
            font-size: 0.9rem;
            margin-bottom: 0.2rem;
        }

        .chapter-duration {
            font-size: 0.75rem;
            color: var(--gray);
        }

        /* Main Content */
        .main-content {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 8px 30px rgba(0,0,0,0.12);
            animation: fadeIn 0.6s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .chapter-header {
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 2px solid var(--light);
        }

        .chapter-number {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .chapter-header h1 {
            color: var(--dark);
            font-size: 2rem;
            margin-bottom: 0.8rem;
            line-height: 1.3;
        }

        .chapter-meta {
            display: flex;
            gap: 1.5rem;
            color: var(--gray);
            font-size: 0.9rem;
            flex-wrap: wrap;
        }

        .chapter-meta span {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .chapter-meta i {
            color: var(--primary);
        }

        /* Content Sections */
        .content-section {
            margin-bottom: 2rem;
        }

        .content-section h2 {
            color: var(--dark);
            font-size: 1.5rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--light);
        }

        .content-section h2 i {
            color: var(--primary);
            font-size: 1.3rem;
        }

        .content-section h3 {
            color: var(--dark);
            font-size: 1.2rem;
            margin: 1.5rem 0 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .content-section h4 {
            color: var(--secondary);
            font-size: 1rem;
            margin: 1rem 0 0.6rem;
        }

        .content-section p {
            color: var(--dark);
            line-height: 1.7;
            margin-bottom: 1rem;
            font-size: 0.95rem;
        }

        .content-section ul, .content-section ol {
            margin: 1rem 0;
            padding-left: 0;
            list-style: none;
        }

        .content-section li {
            padding: 0.6rem 0 0.6rem 2rem;
            position: relative;
            color: var(--dark);
            line-height: 1.6;
            font-size: 0.95rem;
        }

        .content-section ul li::before {
            content: "\f00c";
            font-family: "Font Awesome 6 Free";
            font-weight: 900;
            position: absolute;
            left: 0;
            color: var(--success);
            font-size: 0.9rem;
        }

        .content-section ol {
            counter-reset: item;
        }

        .content-section ol li {
            counter-increment: item;
        }

        .content-section ol li::before {
            content: counter(item);
            position: absolute;
            left: 0;
            width: 25px;
            height: 25px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.8rem;
        }

        /* Info Box */
        .info-box {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
            border-left: 4px solid var(--primary);
            padding: 1.2rem;
            border-radius: 10px;
            margin: 1.5rem 0;
        }

        .info-box.warning {
            background: linear-gradient(135deg, rgba(255, 193, 7, 0.1), rgba(255, 152, 0, 0.1));
            border-left-color: var(--warning);
        }

        .info-box.success {
            background: linear-gradient(135deg, rgba(40, 167, 69, 0.1), rgba(25, 135, 84, 0.1));
            border-left-color: var(--success);
        }

        .info-box.danger {
            background: linear-gradient(135deg, rgba(220, 53, 69, 0.1), rgba(200, 35, 51, 0.1));
            border-left-color: var(--danger);
        }

        .info-box h4 {
            color: var(--dark);
            margin-bottom: 0.6rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1rem;
        }

        .info-box p {
            margin: 0.4rem 0;
            font-size: 0.9rem;
        }

        /* Code Block */
        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 1.2rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            position: relative;
            overflow-x: auto;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.6rem;
            border-bottom: 1px solid #3e3e3e;
        }

        .code-language {
            color: var(--primary);
            font-weight: 600;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 0.4rem;
        }

        .copy-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.4rem 0.8rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.4rem;
        }

        .copy-btn:hover {
            background: var(--secondary);
            transform: scale(1.05);
        }

        .code-block pre {
            margin: 0;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            line-height: 1.6;
        }

        .code-block code {
            color: #ce9178;
        }

        /* Formula Box */
        .formula-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            text-align: center;
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.3);
        }

        .formula-box h4 {
            color: white;
            margin-bottom: 0.8rem;
            font-size: 1rem;
        }

        .formula {
            font-size: 1.5rem;
            font-weight: bold;
            font-family: 'Times New Roman', serif;
            margin: 0.8rem 0;
            padding: 0.8rem;
            background: rgba(255,255,255,0.15);
            border-radius: 8px;
            letter-spacing: 0.05em;
        }

        .formula-explanation {
            font-size: 0.85rem;
            margin-top: 0.8rem;
            opacity: 0.95;
            line-height: 1.5;
        }

        /* Comparison Grid */
        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .comparison-card {
            background: var(--light);
            padding: 1.5rem;
            border-radius: 10px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .comparison-card:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
        }

        .comparison-card h4 {
            color: var(--primary);
            margin-bottom: 0.8rem;
            font-size: 1.1rem;
        }

        .comparison-card ul {
            margin: 0;
        }

        /* Image Container */
        .image-container {
            margin: 2rem 0;
            text-align: center;
        }

        .image-container img {
            max-width: 100%;
            border-radius: 10px;
            box-shadow: 0 6px 25px rgba(0,0,0,0.15);
            transition: transform 0.3s ease;
        }

        .image-container img:hover {
            transform: scale(1.02);
        }

        .image-caption {
            margin-top: 0.8rem;
            color: var(--gray);
            font-size: 0.85rem;
            font-style: italic;
        }

        /* Interactive Demo */
        .interactive-demo {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 2rem;
            border-radius: 10px;
            margin: 2rem 0;
            border: 2px solid var(--primary);
        }

        .interactive-demo h4 {
            color: var(--dark);
            margin-bottom: 1.2rem;
            font-size: 1.2rem;
            text-align: center;
        }

        .demo-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 1rem;
            margin-bottom: 1.2rem;
        }

        .demo-input-group {
            display: flex;
            flex-direction: column;
            gap: 0.4rem;
        }

        .demo-input-group label {
            color: var(--dark);
            font-weight: 600;
            font-size: 0.85rem;
        }

        .demo-input-group input,
        .demo-input-group select {
            padding: 0.7rem;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 0.9rem;
            transition: border-color 0.3s ease;
        }

        .demo-input-group input:focus,
        .demo-input-group select:focus {
            outline: none;
            border-color: var(--primary);
        }

        .demo-btn {
            padding: 0.9rem 1.8rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            margin: 0 auto;
        }

        .demo-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 18px rgba(102, 126, 234, 0.4);
        }

        .demo-output {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            margin-top: 1.2rem;
            min-height: 120px;
            display: none;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .demo-output.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        /* Quiz Section */
        .quiz-section {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05), rgba(118, 75, 162, 0.05));
            padding: 2rem;
            border-radius: 10px;
            margin: 2.5rem 0;
        }

        .quiz-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .quiz-header h3 {
            color: var(--dark);
            font-size: 1.5rem;
            margin-bottom: 0.6rem;
        }

        .quiz-header p {
            color: var(--gray);
            font-size: 0.95rem;
        }

        .quiz-question {
            background: white;
            padding: 1.8rem;
            border-radius: 10px;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }

        .question-number {
            display: inline-flex;
            background: var(--primary);
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 1rem;
            font-size: 1rem;
        }

        .question-text {
            font-size: 1.05rem;
            color: var(--dark);
            font-weight: 600;
            margin-bottom: 1.5rem;
            line-height: 1.5;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .quiz-option {
            padding: 1rem;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .quiz-option:hover {
            border-color: var(--primary);
            background: rgba(102, 126, 234, 0.05);
            transform: translateX(5px);
        }

        .quiz-option.selected {
            border-color: var(--primary);
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.15), rgba(118, 75, 162, 0.15));
        }

        .quiz-option.correct {
            border-color: var(--success);
            background: rgba(40, 167, 69, 0.1);
        }

        .quiz-option.incorrect {
            border-color: var(--danger);
            background: rgba(220, 53, 69, 0.1);
        }

        .option-letter {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: var(--light);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: var(--primary);
            flex-shrink: 0;
            font-size: 0.95rem;
        }

        .quiz-option.selected .option-letter {
            background: var(--primary);
            color: white;
        }

        .quiz-option.correct .option-letter {
            background: var(--success);
            color: white;
        }

        .quiz-option.incorrect .option-letter {
            background: var(--danger);
            color: white;
        }

        .option-text {
            flex: 1;
            color: var(--dark);
            font-size: 0.95rem;
        }

        .quiz-explanation {
            margin-top: 1.2rem;
            padding: 1.2rem;
            background: rgba(102, 126, 234, 0.1);
            border-radius: 8px;
            display: none;
            font-size: 0.9rem;
        }

        .quiz-explanation.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .quiz-explanation strong {
            color: var(--primary);
        }

        .quiz-actions {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        .btn-quiz {
            padding: 0.9rem 2rem;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.95rem;
        }

        .btn-quiz.primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
        }

        .btn-quiz.secondary {
            background: var(--light);
            color: var(--gray);
        }

        .btn-quiz:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .btn-quiz:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .quiz-results {
            text-align: center;
            padding: 2rem;
            background: white;
            border-radius: 10px;
            display: none;
        }

        .quiz-results.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .quiz-score {
            font-size: 3.5rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 1.2rem 0;
        }

        /* Navigation Buttons */
        .chapter-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 2.5rem;
            padding-top: 1.5rem;
            border-top: 2px solid var(--light);
        }

        .nav-btn {
            padding: 0.9rem 1.8rem;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.95rem;
        }

        .nav-btn.prev {
            background: var(--light);
            color: var(--dark);
        }

        .nav-btn.next {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
        }

        .nav-btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 6px 18px rgba(0,0,0,0.15);
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .highlight {
            background: linear-gradient(135deg, rgba(255, 107, 53, 0.2), rgba(255, 193, 7, 0.2));
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-weight: 600;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .container {
                grid-template-columns: 1fr;
            }

            .sidebar {
                position: relative;
                top: 0;
            }
        }

        @media (max-width: 768px) {
            .navbar {
                padding: 1rem;
            }

            .container {
                padding: 1rem;
            }

            .main-content {
                padding: 1.5rem;
            }

            .chapter-header h1 {
                font-size: 1.5rem;
            }

            .content-section h2 {
                font-size: 1.2rem;
            }

            .formula {
                font-size: 1.2rem;
            }

            .comparison-grid {
                grid-template-columns: 1fr;
            }

            .demo-controls {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="navbar-content">
            <div class="logo-container">
                <div class="logo">
                    <img src="/src/images/icon.png" alt="Club ML" onerror="this.style.display='none'">
                    <span class="logo-text">Module 1 - Régression</span>
                </div>
            </div>
            <div class="nav-actions">
                <div class="progress-ring">
                    <svg width="50" height="50">
                        <circle class="progress-ring-bg" cx="25" cy="25" r="20" fill="none"/>
                        <circle class="progress-ring-circle" id="progressCircle" cx="25" cy="25" r="20" fill="none" 
                                stroke-dasharray="125.6" stroke-dashoffset="125.6"/>
                    </svg>
                    <div class="progress-text" id="progressText">0%</div>
                </div>
                <a href="/" class="btn-outline">
                    <i class="fas fa-home"></i>
                    <span>Accueil</span>
                </a>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h3>Module 1</h3>
                <span class="module-badge">INTERMÉDIAIRE</span>
            </div>
            <ul class="chapters-list" id="chaptersList">
                <li class="chapter-item active" onclick="loadChapter(0)">
                    <div class="chapter-icon"><i class="fas fa-chart-line"></i></div>
                    <div class="chapter-info">
                        <div class="chapter-title">Régression Linéaire et Logistique</div>
                        <div class="chapter-duration">45 min</div>
                    </div>
                </li>
                <li class="chapter-item" onclick="loadChapter(1)">
                    <div class="chapter-icon"><i class="fas fa-project-diagram"></i></div>
                    <div class="chapter-info">
                        <div class="chapter-title">K-Nearest Neighbors</div>
                        <div class="chapter-duration">30 min</div>
                    </div>
                </li>
                <li class="chapter-item" onclick="loadChapter(2)">
                    <div class="chapter-icon"><i class="fas fa-vector-square"></i></div>
                    <div class="chapter-info">
                        <div class="chapter-title">Support Vector Machines</div>
                        <div class="chapter-duration">40 min</div>
                    </div>
                </li>
                <li class="chapter-item" onclick="loadChapter(3)">
                    <div class="chapter-icon"><i class="fas fa-tree"></i></div>
                    <div class="chapter-info">
                        <div class="chapter-title">Random Forest</div>
                        <div class="chapter-duration">35 min</div>
                    </div>
                </li>
                <li class="chapter-item" onclick="loadChapter(4)">
                    <div class="chapter-icon"><i class="fas fa-chart-bar"></i></div>
                    <div class="chapter-info">
                        <div class="chapter-title">Évaluation de modèles</div>
                        <div class="chapter-duration">25 min</div>
                    </div>
                </li>
            </ul>
        </aside>

        <!-- Main Content -->
        <main class="main-content" id="mainContent">
            <!-- Contenu du chapitre 1 - Régression Linéaire et Logistique -->
            <div class="chapter-header">
                <span class="chapter-number"><i class="fas fa-chart-line"></i> Module 1 - Chapitre 1</span>
                <h1>Régression Linéaire et Logistique</h1>
                <div class="chapter-meta">
                    <span><i class="fas fa-clock"></i> 45 minutes</span>
                    <span><i class="fas fa-book"></i> 8 sections</span>
                    <span><i class="fas fa-code"></i> Exemples Python</span>
                    <span><i class="fas fa-question-circle"></i> 5 questions</span>
                </div>
            </div>

            <div class="content-section">
                <h2><i class="fas fa-rocket"></i> Introduction</h2>
                <p>
                    La régression est l'une des techniques fondamentales en apprentissage automatique. Elle permet de prédire une valeur continue (régression) ou une catégorie (classification) à partir de données d'entrée. Dans ce chapitre, nous explorerons deux algorithmes essentiels : la régression linéaire pour les problèmes de prédiction de valeurs continues, et la régression logistique pour les problèmes de classification.
                </p>
                
                <div class="info-box">
                    <h4><i class="fas fa-lightbulb"></i> Objectifs d'apprentissage</h4>
                    <p>
                        À la fin de ce chapitre, vous serez capable de :
                    </p>
                    <ul>
                        <li>Comprendre les concepts mathématiques derrière la régression linéaire et logistique</li>
                        <li>Implémenter ces algorithmes en Python avec scikit-learn</li>
                        <li>Évaluer les performances des modèles</li>
                        <li>Choisir l'algorithme approprié selon le problème</li>
                    </ul>
                </div>
            </div>

            <div class="content-section">
                <h2><i class="fas fa-chart-line"></i> Régression Linéaire</h2>
                <p>
                    La régression linéaire est utilisée pour modéliser la relation entre une variable dépendante (cible) et une ou plusieurs variables indépendantes (caractéristiques). L'objectif est de trouver la droite qui minimise la distance entre les points de données et la ligne prédite.
                </p>
                
                <div class="formula-box">
                    <h4>Formule de la régression linéaire simple</h4>
                    <div class="formula">y = β₀ + β₁x + ε</div>
                    <div class="formula-explanation">
                        Où :<br>
                        • y : variable dépendante (cible)<br>
                        • x : variable indépendante (caractéristique)<br>
                        • β₀ : ordonnée à l'origine<br>
                        • β₁ : coefficient de pente<br>
                        • ε : terme d'erreur
                    </div>
                </div>
                
                <h3>Méthode des moindres carrés</h3>
                <p>
                    L'algorithme trouve les paramètres β₀ et β₁ qui minimisent la somme des carrés des résidus (différences entre les valeurs observées et prédites).
                </p>
                
                <div class="formula-box">
                    <h4>Fonction de coût (MSE)</h4>
                    <div class="formula">MSE = (1/n) * Σ(yᵢ - ŷᵢ)²</div>
                    <div class="formula-explanation">
                        Où :<br>
                        • n : nombre d'observations<br>
                        • yᵢ : valeur observée<br>
                        • ŷᵢ : valeur prédite
                    </div>
                </div>
                
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-language"><i class="fab fa-python"></i> Python</span>
                        <button class="copy-btn" onclick="copyCode(this)"><i class="fas fa-copy"></i> Copier</button>
                    </div>
                    <pre><code>import numpy as np
import matplotlib.pyplot as plt
from sklearn.linear_model import LinearRegression
from sklearn.metrics import mean_squared_error, r2_score

# Génération de données synthétiques
np.random.seed(42)
X = 2 * np.random.rand(100, 1)
y = 4 + 3 * X + np.random.randn(100, 1)

# Création et entraînement du modèle
model = LinearRegression()
model.fit(X, y)

# Prédictions
y_pred = model.predict(X)

# Évaluation
mse = mean_squared_error(y, y_pred)
r2 = r2_score(y, y_pred)

print(f"Pente (β₁): {model.coef_[0][0]:.2f}")
print(f"Ordonnée à l'origine (β₀): {model.intercept_[0]:.2f}")
print(f"Erreur quadratique moyenne: {mse:.2f}")
print(f"Coefficient de détermination R²: {r2:.2f}")</code></pre>
                </div>
            </div>

            <div class="content-section">
                <h2><i class="fas fa-project-diagram"></i> Régression Logistique</h2>
                <p>
                    Contrairement à ce que son nom suggère, la régression logistique est utilisée pour les problèmes de classification, notamment la classification binaire. Elle modélise la probabilité qu'une observation appartienne à une classe particulière.
                </p>
                
                <div class="formula-box">
                    <h4>Fonction sigmoïde</h4>
                    <div class="formula">σ(z) = 1 / (1 + e⁻ᶻ)</div>
                    <div class="formula-explanation">
                        La fonction sigmoïde transforme toute valeur réelle en une valeur entre 0 et 1, interprétable comme une probabilité.
                    </div>
                </div>
                
                <div class="info-box">
                    <h4><i class="fas fa-info-circle"></i> Applications typiques</h4>
                    <p>
                        La régression logistique est couramment utilisée pour :
                    </p>
                    <ul>
                        <li>Détection de spam</li>
                        <li>Diagnostic médical</li>
                        <li>Prédiction de défaut de paiement</li>
                        <li>Classification de texte</li>
                    </ul>
                </div>
                
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-language"><i class="fab fa-python"></i> Python</span>
                        <button class="copy-btn" onclick="copyCode(this)"><i class="fas fa-copy"></i> Copier</button>
                    </div>
                    <pre><code>import numpy as np
import matplotlib.pyplot as plt
from sklearn.linear_model import LogisticRegression
from sklearn.model_selection import train_test_split
from sklearn.metrics import accuracy_score, confusion_matrix, classification_report

# Génération de données synthétiques
from sklearn.datasets import make_classification
X, y = make_classification(n_samples=1000, n_features=2, n_redundant=0, 
                           n_informative=2, random_state=42, n_clusters_per_class=1)

# Division des données
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.3, random_state=42)

# Création et entraînement du modèle
model = LogisticRegression()
model.fit(X_train, y_train)

# Prédictions
y_pred = model.predict(X_test)

# Évaluation
accuracy = accuracy_score(y_test, y_pred)
print(f"Précision: {accuracy:.2f}")
print("\nMatrice de confusion:")
print(confusion_matrix(y_test, y_pred))
print("\nRapport de classification:")
print(classification_report(y_test, y_pred))</code></pre>
                </div>
            </div>

            <div class="content-section">
                <h2><i class="fas fa-balance-scale"></i> Comparaison des algorithmes</h2>
                
                <div class="comparison-grid">
                    <div class="comparison-card">
                        <h4>Régression Linéaire</h4>
                        <ul>
                            <li>Variable cible continue</li>
                            <li>Relation linéaire supposée</li>
                            <li>Minimise l'erreur quadratique</li>
                            <li>Interprétation directe des coefficients</li>
                            <li>Sensible aux valeurs aberrantes</li>
                        </ul>
                    </div>
                    
                    <div class="comparison-card">
                        <h4>Régression Logistique</h4>
                        <ul>
                            <li>Variable cible catégorielle</li>
                            <li>Probabilités en sortie</li>
                            <li>Maximise la vraisemblance</li>
                            <li>Bonne interprétabilité</li>
                            <li>Suppositions moins restrictives</li>
                        </ul>
                    </div>
                </div>
                
                <div class="info-box warning">
                    <h4><i class="fas fa-exclamation-triangle"></i> Limitations importantes</h4>
                    <p>
                        La régression linéaire suppose une relation linéaire entre les variables, ce qui n'est pas toujours le cas dans la réalité. La régression logistique, quant à elle, suppose que les classes sont linéairement séparables.
                    </p>
                </div>
            </div>

            <div class="content-section">
                <h2><i class="fas fa-sliders-h"></i> Démonstration Interactive</h2>
                
                <div class="interactive-demo">
                    <h4>Prédiction du prix d'un bien immobilier</h4>
                    <div class="demo-controls">
                        <div class="demo-input-group">
                            <label for="surface">Surface (m²)</label>
                            <input type="number" id="surface" value="120" min="20" max="500">
                        </div>
                        <div class="demo-input-group">
                            <label for="chambres">Nombre de chambres</label>
                            <input type="number" id="chambres" value="3" min="1" max="10">
                        </div>
                        <div class="demo-input-group">
                            <label for="age">Âge du bien (années)</label>
                            <input type="number" id="age" value="5" min="0" max="100">
                        </div>
                        <div class="demo-input-group">
                            <label for="distance">Distance au centre (km)</label>
                            <input type="number" id="distance" value="3" min="0" max="50">
                        </div>
                    </div>
                    <button class="demo-btn" onclick="predictPrice()">
                        <i class="fas fa-calculator"></i> Prédire le prix
                    </button>
                    <div class="demo-output" id="priceOutput"></div>
                </div>
                
                <div class="interactive-demo">
                    <h4>Détection de spam par régression logistique</h4>
                    <div class="demo-controls">
                        <div class="demo-input-group">
                            <label for="urgent">Mots "urgents"</label>
                            <input type="number" id="urgent" value="0" min="0" max="10">
                        </div>
                        <div class="demo-input-group">
                            <label for="liens">Nombre de liens</label>
                            <input type="number" id="liens" value="1" min="0" max="20">
                        </div>
                        <div class="demo-input-group">
                            <label for="longueur">Longueur du message (mots)</label>
                            <input type="number" id="longueur" value="200" min="10" max="1000">
                        </div>
                        <div class="demo-input-group">
                            <label for="argent">Mention "argent"</label>
                            <select id="argent">
                                <option value="0">Non</option>
                                <option value="1">Oui</option>
                            </select>
                        </div>
                    </div>
                    <button class="demo-btn" onclick="detectSpam()">
                        <i class="fas fa-search"></i> Analyser le message
                    </button>
                    <div class="demo-output" id="spamOutput"></div>
                </div>
            </div>

            <div class="content-section">
                <h2><i class="fas fa-tasks"></i> Bonnes pratiques</h2>
                
                <h3>Préparation des données</h3>
                <ul>
                    <li>Normaliser ou standardiser les caractéristiques numériques</li>
                    <li>Gérer les valeurs manquantes</li>
                    <li>Vérifier la multicolinéarité</li>
                    <li>Diviser les données en ensembles d'entraînement et de test</li>
                </ul>
                
                <h3>Évaluation des modèles</h3>
                <ul>
                    <li>Régression linéaire : MSE, R², RMSE</li>
                    <li>Régression logistique : Précision, Rappel, F1-score, AUC-ROC</li>
                    <li>Utiliser la validation croisée pour des estimations robustes</li>
                </ul>
                
                <h3>Amélioration des performances</h3>
                <ul>
                    <li>Régularisation (L1/L2) pour éviter le surapprentissage</li>
                    <li>Sélection de caractéristiques</li>
                    <li>Ingénierie des caractéristiques</li>
                    <li>Ajustement des hyperparamètres</li>
                </ul>
            </div>

            <div class="quiz-section">
                <div class="quiz-header">
                    <h3>Quiz de vérification des connaissances</h3>
                    <p>Testez votre compréhension des concepts abordés dans ce chapitre</p>
                </div>
                
                <div class="quiz-question">
                    <div class="question-number">1</div>
                    <div class="question-text">
                        Quelle est la principale différence entre la régression linéaire et la régression logistique ?
                    </div>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="selectAnswer(0, 0, 0)">
                            <div class="option-letter">A</div>
                            <div class="option-text">La régression linéaire prédit des valeurs continues, la régression logistique prédit des probabilités pour la classification</div>
                        </div>
                        <div class="quiz-option" onclick="selectAnswer(0, 0, 1)">
                            <div class="option-letter">B</div>
                            <div class="option-text">La régression linéaire est plus précise que la régression logistique</div>
                        </div>
                        <div class="quiz-option" onclick="selectAnswer(0, 0, 2)">
                            <div class="option-letter">C</div>
                            <div class="option-text">La régression logistique nécessite plus de données d'entraînement</div>
                        </div>
                        <div class="quiz-option" onclick="selectAnswer(0, 0, 3)">
                            <div class="option-letter">D</div>
                            <div class="option-text">La régression linéaire ne peut traiter que des variables numériques</div>
                        </div>
                    </div>
                    <div class="quiz-explanation" id="explanation-0-0">
                        <strong>Réponse correcte : A</strong><br>
                        La régression linéaire est utilisée pour prédire des valeurs continues (comme le prix d'une maison), tandis que la régression logistique est utilisée pour la classification binaire en produisant des probabilités.
                    </div>
                </div>
                
                <div class="quiz-question">
                    <div class="question-number">2</div>
                    <div class="question-text">
                        Quelle fonction est utilisée dans la régression logistique pour transformer la sortie en probabilité ?
                    </div>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="selectAnswer(0, 1, 0)">
                            <div class="option-letter">A</div>
                            <div class="option-text">Fonction sigmoïde</div>
                        </div>
                        <div class="quiz-option" onclick="selectAnswer(0, 1, 1)">
                            <div class="option-letter">B</div>
                            <div class="option-text">Fonction ReLU</div>
                        </div>
                        <div class="quiz-option" onclick="selectAnswer(0, 1, 2)">
                            <div class="option-letter">C</div>
                            <div class="option-text">Fonction tangente hyperbolique</div>
                        </div>
                        <div class="quiz-option" onclick="selectAnswer(0, 1, 3)">
                            <div class="option-letter">D</div>
                            <div class="option-text">Fonction softmax</div>
                        </div>
                    </div>
                    <div class="quiz-explanation" id="explanation-0-1">
                        <strong>Réponse correcte : A</strong><br>
                        La fonction sigmoïde transforme toute valeur réelle en une valeur entre 0 et 1, ce qui permet de l'interpréter comme une probabilité.
                    </div>
                </div>
                
                <div class="quiz-actions">
                    <button class="btn-quiz primary" onclick="submitQuiz()">
                        <i class="fas fa-paper-plane"></i> Soumettre le quiz
                    </button>
                    <button class="btn-quiz secondary" onclick="resetQuiz()">
                        <i class="fas fa-redo"></i> Recommencer
                    </button>
                </div>
            </div>

            <div class="chapter-navigation">
                <button class="nav-btn prev" disabled>
                    <i class="fas fa-arrow-left"></i> Chapitre précédent
                </button>
                <button class="nav-btn next" onclick="nextChapter()">
                    Chapitre suivant <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </main>
    </div>

    <script>
        let currentChapter = 0;
        let completedChapters = new Set();
        let quizAnswers = {};
        let totalChapters = 5;

        const chapters = [
            {
                title: "Régression Linéaire et Logistique",
                duration: "45 min",
                icon: "fa-chart-line",
                content: document.getElementById('mainContent').innerHTML
            },
            {
                title: "K-Nearest Neighbors",
                duration: "30 min",
                icon: "fa-project-diagram",
                content: `
                    <div class="chapter-header">
                        <span class="chapter-number"><i class="fas fa-project-diagram"></i> Module 1 - Chapitre 2</span>
                        <h1>K-Nearest Neighbors (K-NN)</h1>
                        <div class="chapter-meta">
                            <span><i class="fas fa-clock"></i> 30 minutes</span>
                            <span><i class="fas fa-book"></i> 6 sections</span>
                            <span><i class="fas fa-code"></i> Exemples Python</span>
                            <span><i class="fas fa-question-circle"></i> 4 questions</span>
                        </div>
                    </div>

                    <div class="content-section">
                        <h2><i class="fas fa-rocket"></i> Introduction à K-NN</h2>
                        <p>
                            K-Nearest Neighbors est un algorithme d'apprentissage supervisé utilisé pour la classification et la régression. C'est l'un des algorithmes les plus simples mais aussi l'un des plus intuitifs.
                        </p>

                        <div class="info-box">
                            <h4><i class="fas fa-lightbulb"></i> Concept Clé</h4>
                            <p>
                                K-NN fonctionne sur le principe : <strong>"Dis-moi qui sont tes amis, je te dirai qui tu es"</strong>. Il classe un point de données en fonction de la classe majoritaire de ses k plus proches voisins.
                            </p>
                        </div>
                    </div>

                    <!-- Autres sections du chapitre 2... -->
                `
            },
            // Contenu des autres chapitres...
        ];

        // Fonction pour charger un chapitre
        function loadChapter(chapterIndex) {
            if (chapterIndex < 0 || chapterIndex >= chapters.length) return;
            
            currentChapter = chapterIndex;
            const chapter = chapters[chapterIndex];
            
            // Mettre à jour le contenu principal
            document.getElementById('mainContent').innerHTML = chapter.content;
            
            // Mettre à jour la sidebar
            updateSidebar();
            
            // Mettre à jour la progression
            updateProgress();
            
            // Scroll vers le haut
            window.scrollTo(0, 0);
        }

        // Fonction pour mettre à jour la sidebar
        function updateSidebar() {
            const chapterItems = document.querySelectorAll('.chapter-item');
            chapterItems.forEach((item, index) => {
                item.classList.remove('active');
                if (index === currentChapter) {
                    item.classList.add('active');
                }
                if (completedChapters.has(index)) {
                    item.classList.add('completed');
                } else {
                    item.classList.remove('completed');
                }
            });
        }

        // Fonction pour mettre à jour la progression
        function updateProgress() {
            const progress = (completedChapters.size / totalChapters) * 100;
            const progressCircle = document.getElementById('progressCircle');
            const progressText = document.getElementById('progressText');
            
            if (progressCircle && progressText) {
                const circumference = 2 * Math.PI * 20;
                const offset = circumference - (progress / 100) * circumference;
                
                progressCircle.style.strokeDashoffset = offset;
                progressText.textContent = `${Math.round(progress)}%`;
            }
        }

        // Fonction pour marquer un chapitre comme terminé
        function completeChapter() {
            completedChapters.add(currentChapter);
            updateSidebar();
            updateProgress();
            
            // Afficher une notification
            showNotification('Chapitre terminé !', 'success');
        }

        // Fonction pour la navigation
        function nextChapter() {
            if (currentChapter < chapters.length - 1) {
                loadChapter(currentChapter + 1);
            }
        }


           function AuthVerifiy() {
            localStorage.getItem('userToken')&&(window.location.href="connexion.html");

            
        }
        AuthVerifiy()
        function prevChapter() {
            if (currentChapter > 0) {
                loadChapter(currentChapter - 1);
            }
        }

        // Fonction pour copier le code
        function copyCode(button) {
            const codeBlock = button.closest('.code-block');
            const code = codeBlock.querySelector('code').textContent;
            
            navigator.clipboard.writeText(code).then(() => {
                const originalText = button.innerHTML;
                button.innerHTML = '<i class="fas fa-check"></i> Copié !';
                button.style.background = 'var(--success)';
                
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.style.background = '';
                }, 2000);
            });
        }

        // Fonction pour sélectionner une réponse au quiz
        function selectAnswer(chapterIndex, questionIndex, answerIndex) {
            const questionKey = `${chapterIndex}-${questionIndex}`;
            quizAnswers[questionKey] = answerIndex;
            
            const options = document.querySelectorAll(`.quiz-question:nth-child(${questionIndex + 1}) .quiz-option`);
            options.forEach((option, index) => {
                option.classList.remove('selected', 'correct', 'incorrect');
                if (index === answerIndex) {
                    option.classList.add('selected');
                }
            });
        }

        // Fonctions pour les démos interactives
        function predictPrice() {
            const surface = parseInt(document.getElementById('surface').value) || 100;
            const chambres = parseInt(document.getElementById('chambres').value) || 3;
            const age = parseInt(document.getElementById('age').value) || 5;
            const distance = parseInt(document.getElementById('distance').value) || 3;
            
            // Modèle simplifié pour la démo
            const prixBase = 150;
            const prixSurface = surface * 1.8;
            const prixChambres = chambres * 20;
            const prixAge = -age * 2;
            const prixDistance = -distance * 5;
            
            const prixPred = prixBase + prixSurface + prixChambres + prixAge + prixDistance;
            
            const output = document.getElementById('priceOutput');
            output.innerHTML = `
                <div style="text-align: center;">
                    <h4 style="color: var(--primary); margin-bottom: 1rem;">🏠 Résultat de la Prédiction</h4>
                    <div style="font-size: 2rem; font-weight: bold; color: var(--success); margin: 1rem 0;">
                        ${prixPred.toFixed(2)} millions FCFA
                    </div>
                    <div style="background: rgba(40, 167, 69, 0.1); padding: 1rem; border-radius: 8px; margin-top: 1rem;">
                        <strong>Détail du calcul :</strong><br>
                        • Surface: ${surface}m² × 1.8 = ${prixSurface.toFixed(2)}<br>
                        • Chambres: ${chambres} × 20 = ${prixChambres.toFixed(2)}<br>
                        • Âge: ${age} ans × -2 = ${prixAge.toFixed(2)}<br>
                        • Distance: ${distance}km × -5 = ${prixDistance.toFixed(2)}<br>
                        • Prix de base: ${prixBase.toFixed(2)}
                    </div>
                </div>
            `;
            output.classList.add('active');
        }

        function detectSpam() {
            const urgent = parseInt(document.getElementById('urgent').value) || 0;
            const liens = parseInt(document.getElementById('liens').value) || 1;
            const longueur = parseInt(document.getElementById('longueur').value) || 200;
            const argent = parseInt(document.getElementById('argent').value) || 0;
            
            // Modèle simplifié pour la démo
            let score = 0;
            score += urgent * 0.3;
            score += liens * 0.2;
            score += (longueur < 200 ? 0.2 : 0);
            score += argent * 0.3;
            
            const probabiliteSpam = Math.min(0.95, Math.max(0.05, score));
            const isSpam = probabiliteSpam >= 0.5;
            
            const output = document.getElementById('spamOutput');
            output.innerHTML = `
                <div style="text-align: center;">
                    <h4 style="color: ${isSpam ? 'var(--danger)' : 'var(--success)'}; margin-bottom: 1rem;">
                        ${isSpam ? '🚨 SPAM DÉTECTÉ' : '✅ EMAIL LÉGITIME'}
                    </h4>
                    <div style="font-size: 1.5rem; font-weight: bold; margin: 1rem 0;">
                        Probabilité de spam : <span style="color: ${isSpam ? 'var(--danger)' : 'var(--success)'}">${(probabiliteSpam * 100).toFixed(1)}%</span>
                    </div>
                    <div style="background: ${isSpam ? 'rgba(220, 53, 69, 0.1)' : 'rgba(40, 167, 69, 0.1)'}; 
                                padding: 1rem; border-radius: 8px; margin-top: 1rem;">
                        <strong>Analyse des caractéristiques :</strong><br>
                        • Mots urgents: ${urgent} → ${(urgent * 0.3 * 100).toFixed(0)}%<br>
                        • Liens: ${liens} → ${(liens * 0.2 * 100).toFixed(0)}%<br>
                        • Longueur: ${longueur} mots → ${(longueur < 200 ? 20 : 0)}%<br>
                        • Mention "argent": ${argent ? 'Oui' : 'Non'} → ${(argent * 0.3 * 100).toFixed(0)}%
                    </div>
                </div>
            `;
            output.classList.add('active');
        }

        // Fonction pour afficher les notifications
        function showNotification(message, type = 'info') {
            // Créer l'élément de notification
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.innerHTML = `
                <div style="position: fixed; top: 100px; right: 20px; background: ${type === 'success' ? 'var(--success)' : 'var(--primary)'}; 
                            color: white; padding: 1rem 1.5rem; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); 
                            z-index: 10000; animation: slideInRight 0.3s ease;">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : 'info-circle'}"></i> ${message}
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // Supprimer après 3 secondes
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Fonction pour soumettre le quiz
        function submitQuiz() {
            const questions = document.querySelectorAll('.quiz-question');
            let score = 0;
            let total = questions.length;
            
            questions.forEach((question, index) => {
                const questionKey = `0-${index}`;
                const selectedAnswer = quizAnswers[questionKey];
                const correctAnswer = 0; // Pour la démo, la réponse A est toujours correcte
                
                const options = question.querySelectorAll('.quiz-option');
                options.forEach((option, optIndex) => {
                    if (optIndex === correctAnswer) {
                        option.classList.add('correct');
                    }
                    if (optIndex === selectedAnswer && selectedAnswer !== correctAnswer) {
                        option.classList.add('incorrect');
                    }
                });
                
                if (selectedAnswer === correctAnswer) {
                    score++;
                }
                
                // Afficher l'explication
                const explanation = document.getElementById(`explanation-0-${index}`);
                if (explanation) {
                    explanation.classList.add('active');
                }
            });
            
            // Afficher les résultats
            const results = document.createElement('div');
            results.className = 'quiz-results active';
            results.innerHTML = `
                <h3>📊 Résultats du Quiz</h3>
                <div class="quiz-score">${score}/${total}</div>
                <p>${score === total ? '🎉 Excellent ! Vous maîtrisez parfaitement ce chapitre.' : 
                   score >= total/2 ? '👍 Bon travail ! Continuez à vous exercer.' : 
                   '📚 Revoyez le chapitre et réessayez.'}</p>
                <div style="margin-top: 1.5rem;">
                    <button class="btn-quiz primary" onclick="completeChapter()">
                        <i class="fas fa-check"></i> Marquer comme terminé
                    </button>
                </div>
            `;
            
            const quizSection = document.querySelector('.quiz-section');
            quizSection.appendChild(results);
            
            // Scroll vers les résultats
            results.scrollIntoView({ behavior: 'smooth' });
        }

        // Fonction pour réinitialiser le quiz
        function resetQuiz() {
            quizAnswers = {};
            const questions = document.querySelectorAll('.quiz-question');
            questions.forEach(question => {
                const options = question.querySelectorAll('.quiz-option');
                options.forEach(option => {
                    option.classList.remove('selected', 'correct', 'incorrect');
                });
                
                const explanation = question.querySelector('.quiz-explanation');
                if (explanation) {
                    explanation.classList.remove('active');
                }
            });
            
            const results = document.querySelector('.quiz-results');
            if (results) {
                results.remove();
            }
        }



        function AuthVerify() {
    // Vérifier si l'utilisateur est connecté
    if (!localStorage.getItem('userToken')) {
        window.location.href = "../connexion.html";
        return;
    }

    // Récupérer la progression de l'utilisateur depuis le localStorage
    const userProgress = JSON.parse(localStorage.getItem('ml_module_progress'));

    // Si aucune progression trouvée, rediriger ou bloquer
    if (!userProgress) {
        alert("Aucune progression trouvée. Terminez le Module 0 d'abord !");
        window.location.href = "module0.html";
        return;
    }

    // Vérifier si Module 0 est complet (3 chapitres)
    const module0ChaptersCompleted = userProgress.completedChapters.filter(chap => chap.module === 0).length;

    if (module0ChaptersCompleted < 3) {
        alert("Vous devez terminer le Module 0 avant d'accéder au Module 1 !");
        window.location.href = "module0.html";
        return;
    }

    // Si tout est bon, l'utilisateur peut rester sur la page Module 1
    console.log("Accès au Module 1 autorisé !");
}



AuthVerify();
async function incrementVisit(siteName) {
  const allowed = ["index", "module0", "module1"];
  if (!allowed.includes(siteName)) {
    throw new Error("Nom de site invalide");
  }

  const response = await fetch(`https://club-ml.onrender.com/number/${siteName}`, {
    method: "PUT",
    headers: {
      "Content-Type": "application/json"
    }
  });

  if (!response.ok) {
    const error = await response.json().catch(() => ({}));
    throw new Error(error.error || "Erreur réseau");
  }

  return await response.json();
}


incrementVisit("module1")
  .then(data => {
    console.log("Compteur mis à jour :", data);
  })
  .catch(err => {
    console.error("Erreur :", err.message);
  });



        // Initialisation au chargement de la page
        document.addEventListener('DOMContentLoaded', function() {
            // Charger le premier chapitre
            loadChapter(0);
            
            // Ajouter des écouteurs d'événements pour la navigation
            document.addEventListener('keydown', function(e) {
                if (e.key === 'ArrowRight') nextChapter();
                if (e.key === 'ArrowLeft') prevChapter();
            });
            
            // Initialiser le cercle de progression
            updateProgress();
        });

        // Ajouter le CSS pour les animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideInRight {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            
            .notification {
                animation: slideInRight 0.3s ease;
            }
            
            .fade-in {
                animation: fadeIn 0.5s ease;
            }
            
            @keyframes fadeIn {
                from { opacity: 0; }
                to { opacity: 1; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>